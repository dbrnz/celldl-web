<html>
    <head>
        <meta charset="utf-8"/>
        <style type="text/css">
            .float {
                float: left;
            }
            .leftcolumn {
                width: 45%;
            }
            .rightcolumn {
                width: 55%;
            }
            .CodeMirror {
                border: 2px solid #888;
            }
            #cell_diagram {
                height: 100%;
                border: 2px solid #888;
            }
        </style>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                jax: ["input/TeX", "output/SVG"],
                messageStyle: "none",
                showProcessingMessages: false,
                skipStartupTypeset: true,
                showMathMenu: false,
                showMathMenuMSIE: false,
                TeX: {
                    extensions: window.Array(
                        "AMSmath.js",
                        "AMSsymbols.js",
                        "autoload-all.js"
                    )
                },
                SVG: {
                    font: "STIX-Web",
                    useFontCache: true,
                    useGlobalCache: false,  // Can we set true and extract global <defs> ??
                    EqnChunk: 1000000,
                    EqnDelay: 0
                } /* ,
                tex2jax: {
                    inlineMath: [['$','$'],['\\(','\\)']]
                } */
            });
        </script>
        <script type="text/javascript"
                src="./thirdparty/MathJax/unpacked/MathJax.js">
        </script>
    </head>
    <body>

<!--
        <div id="canvas" style="height: 50%;"></div>
        <script src="./thirdparty/d3.v3.js"></script>
-->
        <section style="height: 90%;">
            <div class="float leftcolumn">
                <textarea id="celldl_text" class="border"></textarea>
            </div>
            <div class="float rightcolumn">
                <div id="cell_diagram"></div>
            </div>
        </section>
        <section style="height: 10%;">
        </section>

        <!-- Create a simple CodeMirror instance -->
        <link rel="stylesheet" href="./thirdparty/codemirror/lib/codemirror.css">
        <script src="./thirdparty/codemirror/lib/codemirror.js"></script>
        <script src="./thirdparty/codemirror/mode/xml/xml.js"></script>
        <script>
            const celldlElement = document.getElementById("celldl_text");
            const editor = CodeMirror.fromTextArea(celldlElement,
                                                { lineNumbers: true }
            );
            editor.setSize("100%", "100%");
        </script>

        <script type="module">
            import main from './script/main.js';

            main('http://localhost:8080/svg/web/ion_channel.xml', 'cell_diagram');
        </script>
    </body>
</html>
